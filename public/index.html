<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ğŸ’Š ì•½ì† ê±´ê°• ë¶„ì„ê¸°</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
<style>
  @media (prefers-color-scheme: dark) {
    /* ìƒì„¸ ë¶„ì„ ë‚´ì—­ (result > div ë‚´ë¶€) */
    #result > div {
        /* ë°°ê²½ìƒ‰ì„ ë‹¤í¬ëª¨ë“œì— ë§ê²Œ ì–´ë‘¡ê²Œ ìˆ˜ì • */
        background: linear-gradient(180deg, color-mix(in oklab, var(--emerald-700), transparent 70%), transparent 100%) !important;
        border-color: rgba(52, 211, 153, .25) !important;
    }

    /* ìƒì„¸ ë¶„ì„ ë‚´ì—­ ë‚´ë¶€ì˜ ê°œë³„ ë‹¨ê³„ ë°•ìŠ¤ */
    #result > div div[style*="rgba(16,185,129,0.06)"],
    #result > div div[style*="rgba(16,185,129,0.10)"] {
        /* ë°°ê²½ìƒ‰ì„ ë” ì–´ë‘¡ê³  ì„ ëª…í•˜ê²Œ */
        background: rgba(16, 185, 129, 0.15) !important;
        border: 1px solid rgba(52, 211, 153, 0.2) !important;
    }
    
    /* ë³µìš© ì‹œ ìœ ì˜ ì‚¬í•­ ë°•ìŠ¤ */
    #result > div:last-child > div:last-child {
        /* ë°ì€ ì—°ë‘ìƒ‰ ëŒ€ì‹  ì–´ë‘ìš´ ê³„ì—´ë¡œ ë³€ê²½ */
        background: linear-gradient(135deg, #101815, #15221c) !important; 
        border: 1.5px solid #059669 !important;
        box-shadow: 0 4px 14px rgba(0, 0, 0, .4) !important;
    }

    /* ëª¨ë“  í…ìŠ¤íŠ¸ë¥¼ ë°ê²Œ (ê²°ê³¼ ì˜ì—­ í•œì •) */
    #result p, #result strong, #result .muted, #result .pill, #result .section-title {
        color: var(--text) !important;
    }
}
/* ===================== Design Tokens ===================== */
:root{
--bg:#f6fbf7;
--panel:rgba(255,255,255,.85);
--panel-solid:#ffffff;
--glass:rgba(255,255,255,.55);
--text:#0a1420;
--muted:#6b7a90;
--border:rgba(14,165,98,.20);
--lime-300:#bef264;
--lime-400:#a3e635;
--lime-500:#84cc16;
--lime-600:#65a30d;
--emerald-400:#34d399;
--emerald-500:#10b981;
--emerald-600:#059669;
--emerald-700:#047857;
--ok:#10b981;
--warn:#f59e0b;
--danger:#ef4444;
--radius-xl:24px;
--radius-lg:18px;
--radius:14px;
--radius-sm:10px;
--s1:6px;
--s2:10px;
--s3:14px;
--s4:18px;
--s5:24px;
--s6:32px;
--shadow-soft:0 24px 60px rgba(3,7,18,.08), 0 8px 20px rgba(16,185,129,.04);
--shadow-hover:0 32px 80px rgba(3,7,18,.12), 0 12px 30px rgba(16,185,129,.08);
--ring:0 0 0 12px rgba(16,185,129,.18);
--font: "Pretendard", ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", Helvetica, Arial, sans-serif;
--base-font-size:16px;
}
html.font-small{ --base-font-size: 14px; }
html.font-medium{ --base-font-size: 16px; }
html.font-large{ --base-font-size: 18px; }

@media (prefers-color-scheme: dark){
:root{
--bg:#0b1210;
--panel:rgba(16,24,21,.80);
--panel-solid:#101815;
--glass:rgba(16,24,21,.60);
--text:#e7f1ec; /* ğŸ’¡ ë‹¤í¬ëª¨ë“œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³´ì • */
--muted:#9fb2a9; /* ğŸ’¡ ë‹¤í¬ëª¨ë“œ ë³´ì¡° í…ìŠ¤íŠ¸ ìƒ‰ìƒ ë³´ì • */
--border:rgba(52,211,153,.14);
--shadow-soft:0 30px 80px rgba(0,0,0,.55), 0 10px 30px rgba(0,0,0,.35);
--shadow-hover:0 40px 100px rgba(0,0,0,.65), 0 15px 40px rgba(0,0,0,.45);
}
}

/* ===================== Base ===================== */
*{box-sizing:border-box;margin:0;padding:0}
html,body{
height:100%;
font-family:var(--font);
font-size:var(--base-font-size);
line-height:1.6;
color:var(--text);
background:
radial-gradient(1000px 700px at 10% -10%, rgba(163,230,53,.20), transparent 65%),
radial-gradient(1100px 800px at 110% 0%, rgba(16,185,129,.16), transparent 65%),
var(--bg);
-webkit-font-smoothing:antialiased;
text-rendering:optimizeLegibility;
overflow-x:hidden;
transition: font-size 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
a{color:inherit;text-decoration:none}

/* ===================== Decorative Blobs (ambient) ===================== */
.blob{
position:fixed;
z-index:-1;
filter:blur(40px);
opacity:.55;
mix-blend-mode:soft-light;
animation:floatY 20s ease-in-out infinite;
will-change:transform;
}
.blob.one{
width:480px;
height:480px;
right:-140px;
top:-100px;
background:radial-gradient(circle at 30% 30%, var(--lime-400), transparent 65%);
animation-delay:0s;
}
.blob.two{
width:580px;
height:580px;
left:-180px;
bottom:-120px;
background:radial-gradient(circle at 70% 40%, var(--emerald-400), transparent 65%);
animation-delay:3s;
}
@keyframes floatY{
0%,100%{ transform:translateY(0) scale(1)}
50%{ transform:translateY(35px) scale(1.03)}
}

/* ===================== App Shell ===================== */
#main-content-wrapper{
opacity:1;
padding:clamp(20px,3.5vw,40px);
animation:fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
@keyframes fadeIn{
from{ opacity:0; transform:translateY(10px)}
to{ opacity:1; transform:translateY(0)}
}
.container{
max-width:1120px;
margin:0 auto var(--s6);
background:linear-gradient(180deg, var(--panel), color-mix(in oklab, var(--panel), transparent 8%));
border:1.5px solid var(--border);
border-radius:var(--radius-xl);
padding:clamp(26px,3.5vw,42px);
box-shadow:var(--shadow-soft);
backdrop-filter: blur(18px) saturate(130%);
transition:box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.container:hover{
box-shadow:var(--shadow-hover);
}

/* ===================== Header ===================== */
.app-head{
display:flex;
align-items:center;
justify-content:space-between;
gap:14px;
margin-bottom:var(--s4);
}
.brand{
display:flex;
align-items:center;
gap:14px;
padding:10px 16px;
background:linear-gradient(135deg, var(--glass), transparent);
border:1.5px solid var(--border);
border-radius:18px;
box-shadow:0 12px 35px rgba(16,185,129,.14);
transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
cursor:pointer;
}
.brand:hover{
box-shadow:0 16px 45px rgba(16,185,129,.20);
transform:translateY(-2px);
}
.brand .icon{
width:44px;
height:44px;
border-radius:13px;
background:var(--panel-solid);
display:flex;
align-items:center;
justify-content:center;
font-size:26px;
color:white;
overflow:hidden;
box-shadow:0 4px 12px rgba(16,185,129,.12);
transition:transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.brand:hover .icon{
transform:scale(1.08);
}
.brand .name{
font-weight:900;
letter-spacing:-.03em;
font-size:clamp(17px,2.2vw,19px);
background:linear-gradient(135deg, var(--emerald-500), var(--lime-600));
-webkit-background-clip:text;
background-clip:text;
color:transparent;
text-shadow:0 2px 8px rgba(16,185,129,.15);
}

/* í–„ë²„ê±° ë©”ë‰´ ë²„íŠ¼ */
.menu-toggle-btn{
width:54px;
height:54px;
border-radius:18px;
background:var(--panel-solid);
border:1.5px solid var(--border);
color:var(--text);
font-size:22px;
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:0 6px 18px rgba(16,185,129,.08);
}
.menu-toggle-btn:hover{
background:var(--glass);
box-shadow: 0 10px 28px rgba(16,185,129,.20);
transform:translateY(-2px) rotate(90deg);
}
.menu-toggle-btn:active{
transform:translateY(0) rotate(90deg);
}

h1{
text-align:center;
font-weight:900;
letter-spacing:-.03em;
font-size:clamp(24px,2.8vw,32px);
background:linear-gradient(135deg, var(--emerald-500), var(--lime-500));
-webkit-background-clip:text;
background-clip:text;
color:transparent;
margin-bottom:var(--s5);
text-shadow:0 4px 16px rgba(16,185,129,.18);
animation:slideDown 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
@keyframes slideDown{
from{ opacity:0; transform:translateY(-15px)}
to{ opacity:1; transform:translateY(0)}
}

/* ===================== App Navigation (Menu) ===================== */
.app-nav{
display:flex;
gap:12px;
background:color-mix(in oklab, var(--panel-solid), transparent 45%);
border:1.5px solid var(--border);
border-radius:var(--radius-lg);
padding:8px;
margin:var(--s4) 0 var(--s5);
backdrop-filter:blur(12px);
box-shadow:0 6px 20px rgba(16,185,129,.08);
}
.nav-btn{
flex:1;
padding:14px 12px;
border-radius:14px;
border:none;
background:transparent;
color:var(--muted);
font-weight:800;
font-size:1.02rem;
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
gap:9px;
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
position:relative;
}
.nav-btn::before{
content:'';
position:absolute;
inset:0;
border-radius:14px;
background:linear-gradient(135deg, var(--emerald-500), var(--lime-500));
opacity:0;
transition:opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1);
z-index:-1;
}
.nav-btn:hover{
background:var(--glass);
color:var(--text);
transform:translateY(-2px);
}
.nav-btn.active{
background:var(--panel-solid);
color:var(--emerald-600);
box-shadow:0 8px 24px rgba(16,185,129,.20);
transform:translateY(-2px);
}
.nav-btn.active::before{
opacity:0.08;
}

/* ===================== Controls ===================== */
/* ===================== Controls ===================== */
.input-wrap{
    display:grid;
    grid-template-columns:1fr auto;
    gap:14px;
    align-items:center;
    margin-bottom:12px;
}
.field{ 
    position:relative;
    animation:fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.2s both;
}
@keyframes fadeInUp{
    from{ opacity:0; transform:translateY(10px)}
    to{ opacity:1; transform:translateY(0)}
}
.field input{
    width:100%;
    /* ğŸ’¡ ê¸°ì¡´ ì™¼ìª½ íŒ¨ë”©ì„ 60pxë¡œ ëŠ˜ë ¤ ì•„ì´ì½˜ê³¼ í”Œë ˆì´ìŠ¤í™€ë” ì‚¬ì´ì˜ ì¶©ë¶„í•œ ê°„ê²©ì„ í™•ë³´ */
    padding:18px 20px 18px 60px; 
    border-radius:18px;
    background:linear-gradient(180deg, var(--panel-solid), color-mix(in oklab, var(--panel-solid), transparent 4%));
    border:1.5px solid var(--border);
    color:var(--text);
    box-shadow:inset 0 -1px 0 rgba(16,185,129,.06), 0 4px 12px rgba(16,185,129,.04);
    transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    font-size:1rem;
    font-weight:500;
}
.field input::placeholder{
    /* ğŸ’¡ í”Œë ˆì´ìŠ¤í™€ë”ì˜ ì™¼ìª½ íŒ¨ë”©ì€ ì œê±°í•˜ê³ , ê¸°ë³¸ ìƒ‰ìƒ ë° íˆ¬ëª…ë„ ìœ ì§€ */
    color:var(--muted);
    opacity:0.7; /* ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œì—ì„œ ê¸°ë³¸ íˆ¬ëª…ë„ ìœ ì§€ */
}
.field input:focus{
    outline:none;
    border-color:var(--emerald-500);
    box-shadow:var(--ring), 0 10px 30px rgba(16,185,129,.20);
    transform:translateY(-2px);
}
.lefticon{
    position:absolute;
    right:22px; /* â† ì™¼ìª½ ëŒ€ì‹  ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³€ê²½ */
    top:50%;
    transform:translateY(-50%);
    color:var(--emerald-600);
    opacity:.95;
    font-size:20px;
    transition:transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events:none;
}
.field input{
    width:100%;
    padding:18px 60px 18px 20px; /* â† ì˜¤ë¥¸ìª½ ì—¬ë°±ì„ ë„“íˆê³  ì™¼ìª½ì€ ì¤„ì´ê¸° */
    border-radius:18px;
    background:linear-gradient(180deg, var(--panel-solid), color-mix(in oklab, var(--panel-solid), transparent 4%));
    border:1.5px solid var(--border);
    color:var(--text);
    box-shadow:inset 0 -1px 0 rgba(16,185,129,.06), 0 4px 12px rgba(16,185,129,.04);
    transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    font-size:1rem;
    font-weight:500;
}

.field input:focus + .lefticon,
.field:hover .lefticon{
    transform:translateY(-50%) scale(1.12);
}
.btn-primary{
    min-width:160px;
    height:56px;
    padding:0 24px;
    border-radius:18px;
    border:1.5px solid color-mix(in oklab, var(--emerald-600), black 10%);
    background:
    linear-gradient(135deg, color-mix(in oklab, var(--emerald-500), white 16%), var(--emerald-600));
    color:#fff;
    font-weight:900;
    cursor:pointer;
    letter-spacing:.02em;
    font-size:1.02rem;
    box-shadow:0 18px 40px rgba(16,185,129,.36);
    transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    position:relative;
    overflow:hidden;
}
/* ... ì´í›„ CSS ì½”ë“œëŠ” ë™ì¼í•©ë‹ˆë‹¤. ... */
.btn-primary::before{
content:'';
position:absolute;
inset:0;
background:linear-gradient(135deg, rgba(255,255,255,.2), transparent);
transform:translateX(-100%);
transition:transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}
.btn-primary:hover{ 
filter:brightness(1.08); 
box-shadow:0 24px 50px rgba(16,185,129,.45);
transform:translateY(-3px);
}
.btn-primary:hover::before{
transform:translateX(100%);
}
.btn-primary:active{ transform:translateY(-1px) }
.hint{
text-align:center;
color:var(--muted);
font-size:0.98rem;
margin:10px 0 var(--s4);
font-weight:500;
animation:fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.3s both;
}
.pill{
display:inline-flex;
gap:8px;
align-items:center;
padding:9px 14px;
border-radius:999px;
background:color-mix(in oklab, var(--lime-400), transparent 82%);
border:1.5px solid var(--border);
font-weight:800;
color:#0c2018;
font-size:0.95rem;
box-shadow:0 4px 12px rgba(163,230,53,.12);
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.pill:hover{
box-shadow:0 6px 18px rgba(163,230,53,.20);
transform:translateY(-2px);
}

/* ===================== ë±ƒì§€ ìŠ¤íƒ€ì¼ (ì‹ ê·œ ë±ƒì§€ ì¶”ê°€ë¨) ===================== */
/* ê´‘ê³  ìœ í˜• ë°°ì§€ */
.ad-type-badge{
display:inline-flex;
gap:7px;
align-items:center;
padding:8px 14px;
border-radius:999px;
font-weight:800;
font-size:0.88rem;
border:1.5px solid;
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:0 4px 12px rgba(0,0,0,.08);
}
.ad-type-badge:hover{
transform:translateY(-2px);
box-shadow:0 6px 18px rgba(0,0,0,.14);
}
.ad-type-brand{
background:linear-gradient(135deg, #fef3c7, #fde68a);
border-color:#f59e0b;
color:#78350f;
}
.ad-type-product{
background:linear-gradient(135deg, #ddd6fe, #c4b5fd);
border-color:#8b5cf6;
color:#4c1d95;
}
.ad-type-product-itself{
background:linear-gradient(135deg, #f0fdf4, #dcfce7);
border-color:#4ade80;
color:#15803d;
}
.ad-type-unknown{
background:linear-gradient(135deg, #e5e7eb, #d1d5db);
border-color:#6b7280;
color:#1f2937;
}

/* ëŒ€ê¸°ì—… ì¸ì¦ ë°°ì§€ */
.major-corp-badge{
display:inline-flex;
gap:7px;
align-items:center;
padding:9px 16px;
border-radius:999px;
background:linear-gradient(135deg, #fef3c7, #fde047);
border:2px solid #eab308;
color:#713f12;
font-weight:800;
font-size:0.92rem;
box-shadow:0 6px 16px rgba(234, 179, 8, 0.35);
animation:pulse 2.5s ease-in-out infinite;
transition:transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.major-corp-badge:hover{
transform:translateY(-2px) scale(1.03);
}

/* ì‹ì•½ì²˜ ì¸ì¦ ë°°ì§€ */
.mfds-badge{
display:inline-flex;
gap:7px;
align-items:center;
padding:9px 16px;
border-radius:999px;
background:linear-gradient(135deg, #dbeafe, #bde0fe);
border:2px solid #3b82f6;
color:#1e3a8a;
font-weight:800;
font-size:0.92rem;
box-shadow:0 5px 15px rgba(59, 130, 246, 0.30);
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.mfds-badge:hover{
transform:translateY(-2px);
box-shadow:0 7px 20px rgba(59, 130, 246, 0.40);
}

/* GMP ì¸ì¦ ë±ƒì§€ */
.gmp-badge{
display:inline-flex;
gap:7px;
align-items:center;
padding:9px 16px;
border-radius:999px;
background:linear-gradient(135deg, #e0f2fe, #bae6fd);
border:2px solid #0ea5e9;
color:#0c4a6e;
font-weight:800;
font-size:0.92rem;
box-shadow:0 5px 15px rgba(14, 165, 233, 0.30);
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.gmp-badge:hover{
transform:translateY(-2px);
box-shadow:0 7px 20px rgba(14, 165, 233, 0.40);
}

/* ìœ ê¸°ë† ì¸ì¦ ë±ƒì§€ */
.organic-badge{
display:inline-flex;
gap:7px;
align-items:center;
padding:9px 16px;
border-radius:999px;
background:linear-gradient(135deg, #dcfce7, #bbf7d0);
border:2px solid #22c55e;
color:#15803d;
font-weight:800;
font-size:0.92rem;
box-shadow:0 5px 15px rgba(34, 197, 94, 0.30);
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.organic-badge:hover{
transform:translateY(-2px);
box-shadow:0 7px 20px rgba(34, 197, 94, 0.40);
}

/* í•µì‹¬ ì„±ë¶„ ë±ƒì§€ (ê³µí†µ) */
.ingredient-badge{
display:inline-flex;
gap:7px;
align-items:center;
padding:7px 13px;
border-radius:999px;
font-weight:700;
font-size:0.88rem;
border:1.5px solid;
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:0 3px 10px rgba(0,0,0,.08);
}
.ingredient-badge:hover{
transform:translateY(-2px);
box-shadow:0 5px 15px rgba(0,0,0,.14);
}
.ing-vitamin-b{ background:linear-gradient(135deg, #fef9c3, #fef08a); border-color:#fde047; color:#713f12; }
.ing-vitamin-c{ background:linear-gradient(135deg, #fff7ed, #ffe4cc); border-color:#fdba74; color:#7c2d12; }
.ing-vitamin-d{ background:linear-gradient(135deg, #fef3c7, #fde68a); border-color:#fcd34d; color:#78350f; }
.ing-vitamin-e{ background:linear-gradient(135deg, #fefce8, #fef9c3); border-color:#fef08a; color:#713f12; }
.ing-vitamin{ background:linear-gradient(135deg, #fef9c3, #fef08a); border-color:#fde047; color:#713f12; }
.ing-omega3{ background:linear-gradient(135deg, #dbeafe, #bfdbfe); border-color:#93c5fd; color:#1e40af; }
.ing-collagen{ background:linear-gradient(135deg, #fce7f3, #fbcfe8); border-color:#f9a8d4; color:#831843; }
.ing-ginseng{ background:linear-gradient(135deg, #fde8e8, #fecaca); border-color:#fca5a5; color:#7f1d1d; }
.ing-protein{ background:linear-gradient(135deg, #e0e7ff, #c7d2fe); border-color:#a5b4fc; color:#312e81; }
.ing-lutein{ background:linear-gradient(135deg, #fef3c7, #fde68a); border-color:#fcd34d; color:#78350f; }
.ing-magnesium{ background:linear-gradient(135deg, #f3e8ff, #e9d5ff); border-color:#d8b4fe; color:#581c87; }
.ing-zinc{ background:linear-gradient(135deg, #e5e7eb, #d1d5db); border-color:#9ca3af; color:#1f2937; }
.ing-calcium{ background:linear-gradient(135deg, #e7e5e4, #d6d3d1); border-color:#a8a29e; color:#292524; }
.ing-probiotics{ background:linear-gradient(135deg, #dcfce7, #bbf7d0); border-color:#86efac; color:#14532d; }
.ing-milkthisle{ background:linear-gradient(135deg, #f5d0fe, #f0abfc); border-color:#e879f9; color:#701a75; }
.ing-coq10{ background:linear-gradient(135deg, #ffe4e6, #fecdd3); border-color:#ffa4a2; color:#881337; }
.ing-unknown{ background:linear-gradient(135deg, #f3f4f6, #e5e7eb); border-color:#d1d5db; color:#374151; }

/* ì„­ì·¨ ëŒ€ìƒ ë±ƒì§€ (ê³µí†µ) */
.target-badge{
display:inline-flex;
gap:7px;
align-items:center;
padding:7px 13px;
border-radius:999px;
font-weight:700;
font-size:0.88rem;
border:1.5px solid;
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:0 3px 10px rgba(0,0,0,.08);
}
.target-badge:hover{
transform:translateY(-2px);
box-shadow:0 5px 15px rgba(0,0,0,.14);
}
.target-kids{ background:linear-gradient(135deg, #fef9c3, #fef08a); border-color:#facc15; color:#713f12; }
.target-women{ background:linear-gradient(135deg, #fce7f3, #fbcfe8); border-color:#f472b6; color:#831843; }
.target-men{ background:linear-gradient(135deg, #dbeafe, #bfdbfe); border-color:#60a5fa; color:#1e40af; }
.target-senior{ background:linear-gradient(135deg, #e5e7eb, #d1d5db); border-color:#9ca3af; color:#1f2937; }
.target-pregnant{ background:linear-gradient(135deg, #f0fdf4, #dcfce7); border-color:#86efac; color:#14532d; }

@keyframes pulse{
0%, 100%{ transform:scale(1); }
50%{ transform:scale(1.03); }
}

/* ===================== Result / Lists ===================== */
.section-title{
display:flex;
align-items:center;
gap:12px;
margin:var(--s5) 0 var(--s4);
font-weight:900;
font-size:1.1rem;
}
.section-title::before{
content:"";
width:9px;
height:9px;
border-radius:999px;
background:var(--emerald-500);
box-shadow:0 0 0 10px rgba(16,185,129,.18);
animation:pulse 2s ease-in-out infinite;
}

#loading{
display:none;
text-align:center;
color:var(--emerald-600);
font-weight:900;
padding:var(--s5);
font-size:1.05rem;
}
#loading::before{
content:"";
display:block;
width:40px;
height:40px;
margin:0 auto 12px;
border:4px solid var(--emerald-600);
border-top-color:transparent;
border-radius:999px;
animation:spin 0.9s linear infinite;
}
@keyframes spin{
to{ transform:rotate(360deg) }
}

#result{
margin-top:var(--s5);
animation:resultFadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
@keyframes resultFadeIn{
from{ opacity:0; transform:translateY(20px)}
to{ opacity:1; transform:translateY(0)}
}
#result > div{
padding:var(--s5);
background:linear-gradient(180deg, color-mix(in oklab, var(--emerald-500), transparent 90%), transparent 100%);
border:1.5px solid var(--border);
border-radius:16px;
margin:14px 0;
box-shadow:0 8px 24px rgba(16,185,129,.08);
transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
#result > div:hover{
box-shadow:0 12px 32px rgba(16,185,129,.14);
transform:translateY(-2px);
}

.score-badge{
display:inline-flex;
align-items:center;
justify-content:center;
gap:10px;
min-width:140px;
padding:14px 20px;
border-radius:16px;
font-weight:900;
font-size:1.3rem;
color:#0a1a14;
background:
linear-gradient(135deg, color-mix(in oklab, var(--lime-400), white 16%), var(--lime-500));
border:2px solid color-mix(in oklab, var(--lime-600), black 10%);
box-shadow:0 16px 36px rgba(163,230,53,.35);
transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.score-badge:hover{
box-shadow:0 20px 45px rgba(163,230,53,.45);
transform:translateY(-3px) scale(1.02);
}

.safety-safe{ color:var(--ok)!important; text-shadow:0 2px 8px rgba(16,185,129,.2) }
.safety-warning{ color:#b45309!important; text-shadow:0 2px 8px rgba(245,158,11,.2) }
.safety-danger{ color:#b91c1c!important; text-shadow:0 2px 8px rgba(239,68,68,.2) }

.button-group{
display:grid;
grid-template-columns:1fr 1fr;
gap:14px;
margin-top:var(--s5);
}
@media (max-width:760px){
.button-group{ grid-template-columns:1fr }
}

/* cards / sections */
#feedbackForm{
border:1.5px dashed var(--border);
background:color-mix(in oklab, var(--panel), transparent 6%);
border-radius:var(--radius-lg);
padding:var(--s5);
margin-top:var(--s5);
box-shadow:0 6px 20px rgba(16,185,129,.06);
animation:fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* inputs/textarea/select unify */
select, textarea, input[type="text"]{
width:100%;
margin:.5rem 0 1rem;
padding:16px 18px;
border-radius:16px;
border:1.5px solid var(--border);
background:var(--panel-solid);
color:var(--text);
font-size:1rem;
font-weight:500;
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:0 2px 8px rgba(16,185,129,.04);
}
select:focus, textarea:focus{
outline:none;
border-color:var(--emerald-500);
box-shadow:0 0 0 8px rgba(16,185,129,.12), 0 4px 16px rgba(16,185,129,.14);
}
textarea{ min-height:110px; resize:vertical }

/* small utils */
.muted{ 
color:var(--muted);
font-weight:500;
}
hr{ 
border:none; 
border-top:1.5px solid var(--border); 
margin:var(--s5) 0;
opacity:0.6;
}

/* Info card (for dev info etc) */
.info-card{
padding:var(--s5);
background:var(--panel-solid);
border:1.5px solid var(--border);
border-radius:16px;
box-shadow:0 6px 18px rgba(16,185,129,.08);
transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.info-card:hover{
box-shadow:0 10px 28px rgba(16,185,129,.14);
transform:translateY(-2px);
}
.info-card p{ margin-bottom: 10px; line-height:1.7 }
.info-card p:last-child{ margin-bottom: 0; }

/* ===================== Side Menu Panel ===================== */
.menu-overlay{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.55);
backdrop-filter:blur(4px);
z-index:1000;
display:none;
opacity:0;
transition:opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}
.menu-overlay.active{
display:block;
opacity:1;
}
.menu-panel{
position:fixed;
top:0;
right:0;
width:90%;
max-width:440px;
height:100%;
background:var(--bg);
box-shadow:-12px 0 50px rgba(0,0,0,0.12);
transform:translateX(100%);
transition:transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
overflow-y:auto;
}
.menu-overlay.active .menu-panel{
transform:translateX(0);
}
.menu-header{
display:flex;
justify-content:space-between;
align-items:center;
padding:var(--s5) var(--s5);
border-bottom:1.5px solid var(--border);
background:var(--panel);
backdrop-filter:blur(12px);
}
.menu-header h2{
font-size:1.3rem;
font-weight:900;
background:linear-gradient(135deg, var(--emerald-500), var(--lime-600));
-webkit-background-clip:text;
background-clip:text;
color:transparent;
}
.menu-close-btn{
width:44px;
height:44px;
border-radius:14px;
background:transparent;
border:none;
font-size:22px;
color:var(--muted);
cursor:pointer;
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.menu-close-btn:hover{
background:var(--glass);
color:var(--text);
transform:rotate(90deg);
}

/* ë©”ë‰´ ë‚´ë¶€ íŒ¨ë„ ìŠ¬ë¼ì´ë“œ */
.menu-content-wrapper{
position:relative;
overflow-x:hidden;
}
.menu-content{
padding:var(--s4) var(--s5) var(--s6);
}

/* ë©”ì¸ ë©”ë‰´ ë¦¬ìŠ¤íŠ¸ */
.menu-list{
list-style:none;
padding:0;
margin:0;
}
.menu-link{
display:flex;
align-items:center;
gap:18px;
padding:var(--s4) var(--s3);
margin:var(--s2) 0;
border-radius:var(--radius-lg);
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
cursor:pointer;
font-weight:800;
font-size:1.08rem;
}
.menu-link:hover{
background:var(--glass);
transform:translateX(4px);
}
.menu-link .icon{
width:46px;
height:46px;
border-radius:14px;
background:var(--panel-solid);
border:1.5px solid var(--border);
display:flex;
align-items:center;
justify-content:center;
font-size:1.3rem;
color:var(--emerald-600);
box-shadow:0 4px 12px rgba(16,185,129,.10);
transition:transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.menu-link:hover .icon{
transform:scale(1.12);
}

/* ì„œë¸Œ íŒ¨ë„ (íŠœí† ë¦¬ì–¼, ì»¤ë®¤ë‹ˆí‹° ë“±) */
.menu-sub-panel{
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
background:var(--bg);
transform:translateX(100%);
transition:transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
padding:var(--s4) var(--s5) var(--s6);
overflow-y:auto; 
visibility:hidden;
}
.menu-sub-panel.active{
transform:translateX(0);
visibility:visible;
}
#menu-main{
transition:transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}
#menu-main.sub-active{
transform:translateX(-100%);
}
.menu-back-btn{
display:flex;
align-items:center;
gap:10px;
border:none;
background:transparent;
color:var(--muted);
font-weight:800;
font-size:1.05rem;
padding:var(--s3);
margin-bottom:var(--s4);
margin-left:-12px;
border-radius:12px;
cursor:pointer;
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
.menu-back-btn:hover{
background:var(--glass);
color:var(--text);
transform:translateX(-4px);
}

/* í°íŠ¸ ì¡°ì ˆ UI (ë©”ë‰´ ë‚´ë¶€) */
.font-control-wrap{
margin-top:var(--s5);
padding-top:var(--s5);
border-top:1.5px dashed var(--border);
}
.font-control-wrap span{
font-weight:800;
color:var(--muted);
font-size: 1rem;
display:block;
margin-bottom:var(--s4);
}
.font-btn-group{
display:flex;
gap:10px;
}
.font-btn{
flex:1;
height:46px;
border-radius:14px;
border:1.5px solid var(--border);
background:var(--panel-solid);
color:var(--text);
font-weight:900;
cursor:pointer;
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow:0 4px 12px rgba(16,185,129,.06);
}
.font-btn:hover{ 
background:var(--glass);
transform:translateY(-2px);
box-shadow:0 6px 18px rgba(16,185,129,.12);
}
.font-btn.active{
background:var(--emerald-500);
color:white;
border-color:var(--emerald-600);
box-shadow:0 8px 24px rgba(16,185,129,.24);
}

/* íŠœí† ë¦¬ì–¼ ìŠ¤í… */
.tutorial-step{
margin-bottom:var(--s6);
animation:fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
.tutorial-step h4{
font-size:1.1rem;
font-weight:800;
margin-bottom:var(--s2);
color:var(--emerald-600);
}

/* íŠœí† ë¦¬ì–¼ ì´ëª¨ì§€ ì¹´ë“œ */
.tutorial-emoji-card{
font-size: 2.8rem;
text-align: center;
padding: var(--s5);
background: var(--panel-solid);
border: 1.5px solid var(--border);
border-radius: var(--radius-lg);
margin-top: var(--s3);
box-shadow:0 6px 20px rgba(16,185,129,.08);
transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.tutorial-emoji-card:hover{
box-shadow:0 10px 30px rgba(16,185,129,.14);
transform:translateY(-3px) scale(1.02);
}
.tutorial-emoji-card p{
font-size: 1.05rem;
font-weight: 800;
color: var(--text);
margin-top: var(--s2);
}

/* ì»¤ë®¤ë‹ˆí‹° ê°€ìƒ ê²Œì‹œê¸€ */
.community-post{
padding:var(--s4);
background:var(--panel-solid);
border:1.5px solid var(--border);
border-radius:16px;
margin-bottom:var(--s3);
box-shadow:0 4px 14px rgba(16,185,129,.06);
transition:all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
cursor:pointer;
}
.community-post:hover{
box-shadow:0 8px 24px rgba(16,185,129,.14);
transform:translateY(-2px);
border-color:var(--emerald-500);
}
.community-post-title{
font-weight:800;
font-size:1.08rem;
margin-bottom:var(--s2);
color:var(--text);
}
.community-post-meta{
display:flex;
gap:14px;
font-size:0.95rem;
color:var(--muted);
font-weight:600;
}

/* ===================== Responsive ===================== */
@media (max-width:640px){
.container{
padding:clamp(18px,4vw,24px);
}
.input-wrap{
grid-template-columns:1fr;
}
.btn-primary{
width:100%;
}
.brand .name{
font-size:15px;
}
h1{
font-size:22px;
}
@media (max-width:640px){
  /* ... ê¸°ì¡´ ë°˜ì‘í˜• CSS ... */
}  /* â† ì´ '}' ë°”ë¡œ ë‹¤ìŒ ì¤„ì— ë¶™ì—¬ë„£ê¸° */

/* âœ… ê²€ìƒ‰ ì•„ì´ì½˜ì´ í…ìŠ¤íŠ¸ë¥¼ ê°€ë¦¬ì§€ ì•Šë„ë¡ ì¸µìœ„ë§Œ ì¡°ì • */
.field input { position: relative; z-index: 1; }
.lefticon    { z-index: 0; }

/* ğŸŒ™ ë‹¤í¬ëª¨ë“œì—ì„œ ë³µìš© ì‹œ ìœ ì˜ì‚¬í•­ ë°•ìŠ¤ ìë™ ë³´ì • */
@media (prefers-color-scheme: dark) {
  /* ì œëª© */
  .section-title {
    color: #f1f3ec !important;
  }

  /* ë°•ìŠ¤ ì „ì²´ */
  .section-title + div {
    background: linear-gradient(135deg, #2f3a2f, #2c322a) !important;
    border: 1.5px solid #3b4a3d !important;
    box-shadow: 0 4px 14px rgba(0, 0, 0, .5) !important;
    color: #f1f3ec !important;
  }

  /* ë°•ìŠ¤ ì•ˆì˜ ëª¨ë“  í…ìŠ¤íŠ¸ */
  .section-title + div * {
    color: #f1f3ec !important;
  }
}


}
</style>
</head>
<body>
<div class="blob one"></div>
<div class="blob two"></div>
<div id="main-content-wrapper">
<div class="container">
<div class="app-head">
<div class="brand">
<div class="icon">
<img src="assets/my_logo.png" alt="ì•½ì† ë¡œê³ " style="width:100%; height:100%; border-radius: 13px; object-fit: cover;">
</div>
<div class="name">ì•½ì† ê±´ê°• ë¶„ì„ê¸°</div>
</div>
<button class="menu-toggle-btn" onclick="openMenu()">
<i class="fa fa-bars"></i>
</button>
</div>

<h1>ê±´ê°• ë„ìš°ë¯¸ì—ê²Œ ë¬¼ì–´ë³´ê¸°</h1>

<nav class="app-nav">
<button id="nav-analyze" class="nav-btn active" onclick="showPanel('panel-analyze', this)">
<i class="fa fa-search"></i> ë¶„ì„í•˜ê¸°
</button>
<button id="nav-history" class="nav-btn" onclick="showPanel('panel-history', this)">
<i class="fa fa-history"></i> ë¶„ì„ ê¸°ë¡
</button>
</nav>
<div id="panel-analyze" class="tab-panel">
<div class="input-wrap">
<div class="field">
<input id="productInput" type="text" placeholder="ì œí’ˆëª… ë˜ëŠ” êµ¬ë§¤ ë§í¬ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì¢…ê·¼ë‹¹ ë½í† í• ê³¨ë“œ)" required/>
<i class="fa fa-search lefticon" aria-hidden="true"></i>
</div>
<button class="btn-primary" onclick="analyzeProduct()">ë¶„ì„ ì‹œì‘</button>
</div>
<p class="hint">AIê°€ ê³µê³µë°ì´í„°ì™€ ë¬¸êµ¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ <span class="pill"><i class="fa fa-shield" aria-hidden="true"></i> 8ë‹¨ê³„ ì‹ ë¢°ë„ ê²€ì¦</span>ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>
<div id="loading">ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤... ì ì‹œë§Œìš”.</div>
<div id="result"></div>
<div id="feedbackForm" style="display:none">
<div class="section-title">ì •ë³´ ìˆ˜ì • ìš”ì²­í•˜ê¸°</div>
<p class="muted" style="margin-bottom:10px">
í˜„ì¬ ë¶„ì„ ê²°ê³¼(<strong id="feedbackProductName">...</strong>)ê°€ ì •í™•í•˜ì§€ ì•Šì€ ê²½ìš°, ìˆ˜ì •ì„ ìš”ì²­í•´ ì£¼ì„¸ìš”.
</p>
<select id="feedbackType">
<option value="">ì„ íƒ</option>
<option value="name_wrong">â‘  ì œí’ˆ ì´ë¦„ì´ ë‹¤ë¦„</option>
<option value="ad_wrong">â‘¡ ê´‘ê³  ë‚´ìš©ì´ ì˜ëª» ë¶„ì„ë¨</option>
<option value="registered">â‘¢ ê³µì‹ ë“±ë¡ì´ ë˜ì–´ ìˆìŒ</option>
<option value="other">â‘£ ê¸°íƒ€ (ì§ì ‘ ì…ë ¥)</option>
</select>
<textarea id="feedbackComment" placeholder="ìƒì„¸ ì˜ê²¬ì„ ì…ë ¥í•´ ì£¼ì„¸ìš” (ì„ íƒ)"></textarea>
<input type="text" id="feedbackContact" placeholder="ì „í™”ë²ˆí˜¸ ë˜ëŠ” ì´ë©”ì¼ (í•„ìˆ˜)" required/>
<button class="btn-primary" onclick="submitFeedback()">ìš”ì²­ ì œì¶œí•˜ê¸°</button>
<p id="feedbackMessage" class="muted" style="display:none;margin-top:10px;text-align:center"></p>
</div>
</div>

<div id="panel-history" class="tab-panel" style="display:none;">
<div class="section-title">ğŸ“Š ë¶„ì„ ê¸°ë¡</div>
<p class="muted" style="text-align:center; padding: 20px;">
ì•„ì§ ì €ì¥ëœ ë¶„ì„ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.<br/>
ë¶„ì„ ê²°ê³¼ í•˜ë‹¨ì˜ 'ê²°ê³¼ ì €ì¥ / ê³µìœ ' ë²„íŠ¼ì„ ëˆŒëŸ¬ ê¸°ë¡ì„ ì €ì¥í•´ ë³´ì„¸ìš”!
</p>
</div>

</div>
</div>


<div id="menu-overlay" class="menu-overlay" onclick="closeMenu(event)">
<div class="menu-panel" onclick="event.stopPropagation()">
<div class="menu-header">
<h2>ë©”ë‰´</h2>
<button class="menu-close-btn" onclick="closeMenu()">
<i class="fa fa-times"></i>
</button>
</div>

<div class="menu-content-wrapper">

<div id="menu-main" class="menu-content">
<ul class="menu-list">
<li>
<a class="menu-link" onclick="closeMenu()">
<span class="icon" style="color:#059669">ğŸ </span>
<span>ë©”ì¸ í™”ë©´</span>
</a>
</li>
<li>
<a class="menu-link" onclick="showMenuSubPanel('menu-tutorial')">
<span class="icon" style="color:#f59e0b">ğŸ’¡</span>
<span>íŠœí† ë¦¬ì–¼</span>
</a>
</li>
<li>
<a class="menu-link" onclick="showMenuSubPanel('menu-error')">
<span class="icon" style="color:#ef4444">ğŸ</span>
<span>ì˜¤ë¥˜ ì‹ ê³ </span>
</a>
</li>
<li>
<a class="menu-link" onclick="showMenuSubPanel('menu-community')">
<span class="icon" style="color:#3b82f6">ğŸ’¬</span>
<span>ì»¤ë®¤ë‹ˆí‹°</span>
</a>
</li>
<li>
<a class="menu-link" onclick="showMenuSubPanel('menu-info')">
<span class="icon" style="color:#6b7280">â„¹ï¸</span>
<span>ì•± ì •ë³´ ë° ê°œë°œì</span>
</a>
</li>
</ul>

<div class="font-control-wrap">
<span>ê¸€ì í¬ê¸° ì¡°ì ˆ</span>
<div class="font-btn-group">
<button class="font-btn" onclick="changeFontSize('small')">A-</button>
<button class="font-btn" onclick="changeFontSize('medium')">A</button>
<button class="font-btn" onclick="changeFontSize('large')">A+</button>
</div>
</div>
</div>

<div id="menu-tutorial" class="menu-sub-panel">
<button class="menu-back-btn" onclick="goMenuBack()">
<i class="fa fa-chevron-left"></i> ë’¤ë¡œê°€ê¸°
</button>
<h3 class="section-title">ğŸ’¡ íŠœí† ë¦¬ì–¼</h3>
<div class="info-card">
<p>'ì•½ì† ê±´ê°• ë¶„ì„ê¸°'ì˜ ì‚¬ìš©ë²•ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.</p>
</div>

<div class="tutorial-step" style="margin-top:var(--s5)">
<h4>STEP 1: ì œí’ˆ ì •ë³´ ì…ë ¥</h4>
<p class="muted">ë¶„ì„í•˜ê³  ì‹¶ì€ ì œí’ˆëª…, êµ¬ë§¤ ë§í¬, YouTube ë§í¬ ë“±ì„ 'ë¶„ì„í•˜ê¸°' íƒ­ì˜ ì…ë ¥ì°½ì— ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.</p>
<div class="tutorial-emoji-card">
âŒ¨ï¸ ğŸ”—
<p>"ì¢…ê·¼ë‹¹ ë½í† í• ê³¨ë“œ"</p>
</div>
</div>

<div class="tutorial-step">
<h4>STEP 2: ë¶„ì„ ì‹œì‘</h4>
<p class="muted">'ë¶„ì„ ì‹œì‘' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ AIê°€ 8ë‹¨ê³„ì— ê±¸ì³ ì‹ ë¢°ë„ ê²€ì¦ì„ ì‹œì‘í•©ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
<div class="tutorial-emoji-card">
ğŸ¤– ğŸ”¬
<p>ë¶„ì„ ì¤‘...</p>
</div>
</div>

<div class="tutorial-step">
<h4>STEP 3: ê²°ê³¼ í™•ì¸</h4>
<p class="muted">ìµœì¢… ì‹ ë¢°ë„(ì•ˆì „/ì£¼ì˜/ìœ„í—˜)ì™€ 100ì  ë§Œì ì˜ ì ìˆ˜ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. ì¸ì¦ ë°°ì§€ê°€ ìˆëŠ”ì§€ ì‚´í´ë³´ì„¸ìš”!</p>
<div class="tutorial-emoji-card">
âœ… ğŸ’¯
<p>95ì  (ì•ˆì „)</p>
</div>
</div>

<div class="tutorial-step">
<h4>STEP 4: ìƒì„¸ ë‚´ì—­ ë° ìœ ì˜ì‚¬í•­</h4>
<p class="muted">8ë‹¨ê³„ì˜ ìƒì„¸ ë¶„ì„ ë‚´ì—­ê³¼ ë³µìš© ì‹œ ìœ ì˜ ì‚¬í•­ì„ ê¼¼ê¼¼íˆ í™•ì¸í•˜ì—¬ ì•ˆì „í•œ êµ¬ë§¤ì— ì°¸ê³ í•˜ì„¸ìš”.</p>
<div class="tutorial-emoji-card">
ğŸ“‹ âš ï¸
<p>ìƒì„¸ ë‚´ì—­ / ìœ ì˜ ì‚¬í•­</p>
</div>
</div>
</div>

<div id="menu-error" class="menu-sub-panel">
<button class="menu-back-btn" onclick="goMenuBack()">
<i class="fa fa-chevron-left"></i> ë’¤ë¡œê°€ê¸°
</button>
<h3 class="section-title">ğŸ ì˜¤ë¥˜ ì‹ ê³ </h3>
<div class="info-card">
<p class="muted">
ë¶„ì„ ê²°ê³¼ê°€ ì•„ë‹Œ, ì•±ì˜ ê¸°ëŠ¥(ì˜ˆ: ë²„íŠ¼ ë¯¸ì‘ë™, í™”ë©´ ê¹¨ì§)ì— ëŒ€í•œ ì˜¤ë¥˜ë¥¼ ì‹ ê³ í•´ ì£¼ì„¸ìš”.<br/>
<strong style="color:var(--danger)">* ë¶„ì„ ê²°ê³¼ì— ëŒ€í•œ í”¼ë“œë°±ì€ 'ë¶„ì„í•˜ê¸°' íƒ­ í•˜ë‹¨ì˜ 'ì •ë³´ ìˆ˜ì • ìš”ì²­'ì„ ì´ìš©í•´ ì£¼ì„¸ìš”.</strong>
</p>
</div>
<div style="margin-top:var(--s4)">
<select id="errorType">
<option value="">ì˜¤ë¥˜ ìœ í˜• ì„ íƒ</option>
<option value="ui_break">í™”ë©´ì´ ê¹¨ì ¸ ë³´ì„</option>
<option value="btn_error">ë²„íŠ¼ì´ ì‘ë™í•˜ì§€ ì•ŠìŒ</option>
<option value="typo">ì˜¤íƒ€ ë° ë¬¸êµ¬ ì˜¤ë¥˜</option>
<option value="other">ê¸°íƒ€</option>
</select>
<textarea id="errorComment" placeholder="ìƒì„¸ ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš” (í•„ìˆ˜)"></textarea>
<input type="text" id="errorContact" placeholder="ì´ë©”ì¼ (ì„ íƒ)"/>
<button class="btn-primary" style="width:100%" onclick="submitError()">ì˜¤ë¥˜ ì œì¶œí•˜ê¸°</button>
<p id="errorMessage" class="muted" style="display:none;margin-top:10px;text-align:center;color:var(--ok)"></p>
</div>
</div>

<div id="menu-community" class="menu-sub-panel">
<button class="menu-back-btn" onclick="goMenuBack()">
<i class="fa fa-chevron-left"></i> ë’¤ë¡œê°€ê¸°
</button>
<h3 class="section-title">ğŸ’¬ ì»¤ë®¤ë‹ˆí‹°</h3>
<div class="info-card" style="margin-bottom:var(--s4)">
<p>
'ì•½ì†' ì‚¬ìš©ìë“¤ì´ ê±´ê°• ì •ë³´ë¥¼ ë‚˜ëˆ„ëŠ” ê³µê°„ì…ë‹ˆë‹¤.<br/>
<strong style="color:var(--muted)">(í˜„ì¬ëŠ” ê°€ìƒ ê²Œì‹œíŒì´ë©°, ì •ì‹ ì˜¤í”ˆ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.)</strong>
</p>
<button class="btn-primary" style="width:100%; margin-top:10px; background:var(--muted); border-color:transparent" disabled>
<i class="fa fa-pencil"></i> ê¸€ì“°ê¸° (ì¤€ë¹„ ì¤‘)
</button>
</div>

<div class="community-post">
<p class="community-post-title">[ì •ë³´] ìš”ì¦˜ í•«í•œ ë½í† ë°”ì‹¤ëŸ¬ìŠ¤ ê· ì£¼ ì´ì •ë¦¬</p>
<div class="community-post-meta">
<span>ê°œë°œì</span>
<span><i class="fa fa-eye"></i> 1,024</span>
<span><i class="fa fa-thumbs-up"></i> 128</span>
</div>
</div>
<div class="community-post">
<p class="community-post-title">[ì§ˆë¬¸] ì¢…ê·¼ë‹¹ ë½í† í• ê³¨ë“œ ì´ê±° ê´œì°®ë‚˜ìš”?</p>
<div class="community-post-meta">
<span>ê¶ê¸ˆí•´ìš”</span>
<span><i class="fa fa-eye"></i> 98</span>
<span><i class="fa fa-thumbs-up"></i> 5</span>
</div>
</div>
<div class="community-post">
<p class="community-post-title">[ì£¼ì˜] 'ê´€ì ˆ ì˜ì–‘ì œ' ìœ íŠœë¸Œ ê´‘ê³  ë¶„ì„ ìš”ì²­</p>
<div class="community-post-meta">
<span>ë°•ê±´ìš°</span>
<span><i class="fa fa-eye"></i> 552</span>
<span><i class="fa fa-thumbs-up"></i> 42</span>
</div>
</div>
<div class="community-post">
<p class="community-post-title">[í›„ê¸°] ì˜¤ë©”ê°€3 ê³ ë¥´ëŠ” ê¿€íŒ (rtgí¼ í™•ì¸í•˜ì„¸ìš”)</p>
<div class="community-post-meta">
<span>ê¹€ëª…ì¤€</span>
<span><i class="fa fa-eye"></i> 876</span>
<span><i class="fa fa-thumbs-up"></i> 91</span>
</div>
</div>
</div>

<div id="menu-info" class="menu-sub-panel">
<button class="menu-back-btn" onclick="goMenuBack()">
<i class="fa fa-chevron-left"></i> ë’¤ë¡œê°€ê¸°
</button>
<h3 class="section-title">â„¹ï¸ ì•± ì •ë³´ ë° ê°œë°œì</h3>
<div class="info-card">
<p>
<strong>ê°œë°œ ì´ê´„</strong><br/>
ì£¼ì •ìš° (joojungwii@gmail.com)
</p>
<hr/>
<p>
<strong>ê¸°íš / ì„¤ë¬¸</strong><br/>
ë°•ê±´ìš°(geonwoo1718@gmail.com), ê¹€ëª…ì¤€(kmj76224043@gmail.com)
</p>
<hr/>
<p class="muted">
<strong>'ì•½ì† ê±´ê°• ë¶„ì„ê¸°' íŒ€</strong><br/>
Version 1.7.0 (Build 20251115)
</p>
</div>
<div class="info-card" style="margin-top:var(--s4)">
<p class="muted" style="font-size:0.9rem;">
<strong>[ì£¼ì˜]</strong> ë³¸ ì„œë¹„ìŠ¤ì˜ ë¶„ì„ ê²°ê³¼ëŠ” AI ëª¨ë¸ì— ê¸°ë°˜í•˜ë¯€ë¡œ 100% ì •í™•ì„±ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ì˜í•™ì  ì†Œê²¬ì´ ì•„ë‹ˆë©°, êµ¬ë§¤ ê²°ì •ì˜ ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
</p>
</div>
</div>

</div> </div> </div> <script>
console.log('âœ… Script loaded');

/* ===================== Tab Navigation ===================== */
function showPanel(panelId, clickedButton){
console.log('Switching to panel:', panelId);
document.querySelectorAll('.tab-panel').forEach(panel => {
panel.style.display = 'none';
});
const targetPanel = document.getElementById(panelId);
if(targetPanel){
targetPanel.style.display = 'block';
}
document.querySelectorAll('.nav-btn').forEach(btn => {
btn.classList.remove('active');
});
if(clickedButton){
clickedButton.classList.add('active');
}
}

/* ===================== Side Menu Control ===================== */
const menuOverlay = document.getElementById('menu-overlay');
const menuMain = document.getElementById('menu-main');
const subPanels = document.querySelectorAll('.menu-sub-panel');

function openMenu(){
if(menuOverlay) menuOverlay.classList.add('active');
}

function closeMenu(event = null){
if(event && event.target.id !== 'menu-overlay') return;
if(menuOverlay) menuOverlay.classList.remove('active');
setTimeout(goMenuBack, 300);
}

function showMenuSubPanel(panelId){
menuMain.classList.add('sub-active');
const targetPanel = document.getElementById(panelId);
if(targetPanel) targetPanel.classList.add('active');
}

function goMenuBack(){
menuMain.classList.remove('sub-active');
subPanels.forEach(panel => panel.classList.remove('active'));
}

/* ===================== Error Report Submit ===================== */
function submitError(){
const comment = document.getElementById('errorComment').value.trim();
const msgEl = document.getElementById('errorMessage');

if(!comment){
alert('ìƒì„¸ ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
return;
}
msgEl.textContent = 'ì†Œì¤‘í•œ ì˜ê²¬ ê°ì‚¬í•©ë‹ˆë‹¤. ê²€í†  í›„ ë°˜ì˜í•˜ê² ìŠµë‹ˆë‹¤.';
msgEl.style.display = 'block';
document.getElementById('errorType').value = '';
document.getElementById('errorComment').value = '';
document.getElementById('errorContact').value = '';
setTimeout(() => {
msgEl.style.display = 'none';
goMenuBack();
}, 3000);
}

/* ===================== Font Size Control ===================== */
function changeFontSize(size){
console.log('Changing font size to:', size);
const html = document.documentElement;
html.classList.remove('font-small', 'font-medium', 'font-large');
if(size === 'small') html.classList.add('font-small');
else if(size === 'large') html.classList.add('font-large');
else html.classList.add('font-medium');

document.querySelectorAll('.font-btn').forEach(btn => {
btn.classList.remove('active');
});
if(size === 'small') document.querySelector('.font-btn[onclick="changeFontSize(\'small\')"]').classList.add('active');
else if(size === 'large') document.querySelector('.font-btn[onclick="changeFontSize(\'large\')"]').classList.add('active');
else document.querySelector('.font-btn[onclick="changeFontSize(\'medium\')"]').classList.add('active');

localStorage.setItem('yakson_font_size', size);
}

document.addEventListener('DOMContentLoaded', () => {
const savedSize = localStorage.getItem('yakson_font_size');
if(savedSize){
changeFontSize(savedSize);
} else {
changeFontSize('medium');
}
console.log('âœ… DOM Content Loaded, Font size applied');
});


/* ===================== Helper: ê´‘ê³  ìœ í˜• ë°°ì§€ ìƒì„± (ğŸ”¥ ìˆ˜ì •) ===================== */
function getAdTypeBadge(adType){
if(adType === 'brand_ad'){
  return '<span class="ad-type-badge ad-type-brand"><i class="fa fa-building"></i> ë¸Œëœë“œ ê´‘ê³ </span>';
}
else if(adType === 'product_ad'){
  return '<span class="ad-type-badge ad-type-product"><i class="fa fa-cube"></i> ì œí’ˆ ê´‘ê³ </span>';
}
else if(adType === 'product_itself'){
  return '<span class="ad-type-badge ad-type-product-itself"><i class="fa fa-tag"></i> ì œí’ˆ ì •ë³´</span>';
}
else{
  return '<span class="ad-type-badge ad-type-unknown"><i class="fa fa-question-circle"></i> ì¼ë°˜ ì½˜í…ì¸ </span>';
}
}

/* ===================== Helper: ëŒ€ê¸°ì—… ë°°ì§€ í™•ì¸ (ì„œë²„ ë°ì´í„°ë¥¼ ì“¸ ì˜ˆì •) ===================== */
function isMajorCorp(data){
if(data.isMajorCorp === true) return true;
const majorCorps = [
'ì •ê´€ì¥', 'KGC', 'ì¢…ê·¼ë‹¹', 'ìœ í•œì–‘í–‰', 'GCë…¹ì‹­ì', 'ë…¹ì‹­ì', 'ëŒ€ì›…ì œì•½', 'ë™ì•„ì œì•½',
'ì¼ë™ì œì•½', 'í•œë¯¸ì•½í’ˆ', 'ê´‘ë™ì œì•½', 'ì¼ì–‘ì•½í’ˆ', 'ì‚¼ì„±ì œì•½', 'LGìƒí™œê±´ê°•', 'Amorepacific',
'ì•„ëª¨ë ˆí¼ì‹œí”½', 'Pfizer', 'í™”ì´ì', 'Bayer', 'ë°”ì´ì—˜', 'GSK', 'Johnson', 'ì¡´ìŠ¨',
'Reckitt', 'ë ˆí‚·', 'Abbott', 'ì• ë³´íŠ¸', 'Sanofi', 'ì‚¬ë…¸í”¼', 'Novartis', 'ë…¸ë°”í‹°ìŠ¤',
'Merck', 'ë¨¸í¬', 'CJì œì¼ì œë‹¹', 'CJ', 'ë³´ë ¹ì œì•½', 'í•œë…', 'ë™êµ­ì œì•½', 'JWì¤‘ì™¸ì œì•½',
'ëŒ€ì›ì œì•½', 'ì˜¤ëšœê¸°', 'ë†ì‹¬', 'ëŒ€ìƒ', 'í’€ë¬´ì›', 'ë¡¯ë°', 'ë§¤ì¼ìœ ì—…', 'ë‚¨ì–‘ìœ ì—…',
'MSD', 'Roche', 'NestlÃ©', 'ë„¤ìŠ¬ë ˆ', 'P&G', 'ì•”ì›¨ì´', 'Amway', 'í—ˆë²Œë¼ì´í”„', 'Herbalife'
];
const lowerInfo = (data.productInfo || '').toLowerCase();
return majorCorps.some(corp => lowerInfo.includes(corp.toLowerCase()));
}

/* ===================== ğŸ”¥ Helper: "ë¬¼ìŒí‘œ ë±ƒì§€" ìˆ˜ì • ===================== */

const ingredientMap = {
'omega3': { icon: 'ğŸŸ', text: 'ì˜¤ë©”ê°€3', css: 'ing-omega3', ko: 'ì˜¤ë©”ê°€3' },
'vitamin_b': { icon: 'ğŸ”‹', text: 'ë¹„íƒ€ë¯¼B', css: 'ing-vitamin-b', ko: 'ë¹„íƒ€ë¯¼b' },
'vitamin_c': { icon: 'ğŸ‹', text: 'ë¹„íƒ€ë¯¼C', css: 'ing-vitamin-c', ko: 'ë¹„íƒ€ë¯¼c' },
'vitamin_d': { icon: 'â˜€ï¸', text: 'ë¹„íƒ€ë¯¼D', css: 'ing-vitamin-d', ko: 'ë¹„íƒ€ë¯¼d' },
'vitamin_e': { icon: 'ğŸ¥‘', text: 'ë¹„íƒ€ë¯¼E', css: 'ing-vitamin-e', ko: 'ë¹„íƒ€ë¯¼e' },
'vitamin': { icon: 'ğŸ‹', text: 'ì¢…í•©ë¹„íƒ€ë¯¼', css: 'ing-vitamin', ko: 'ë¹„íƒ€ë¯¼', alt: 'ë©€í‹°ë¹„íƒ€ë¯¼' },
'collagen': { icon: 'âœ¨', text: 'ì½œë¼ê²', css: 'ing-collagen', ko: 'ì½œë¼ê²' },
'ginseng': { icon: 'ğŸŒ±', text: 'í™ì‚¼/ì¸ì‚¼', css: 'ing-ginseng', ko: 'í™ì‚¼', alt: 'ì¸ì‚¼' },
'protein': { icon: 'ğŸ’ª', text: 'í”„ë¡œí‹´', css: 'ing-protein', ko: 'í”„ë¡œí‹´', alt: 'ë‹¨ë°±ì§ˆ' },
'lutein': { icon: 'ğŸ‘€', text: 'ë£¨í…Œì¸', css: 'ing-lutein', ko: 'ë£¨í…Œì¸' },
'magnesium': { icon: 'ğŸ’¤', text: 'ë§ˆê·¸ë„¤ìŠ˜', css: 'ing-magnesium', ko: 'ë§ˆê·¸ë„¤ìŠ˜' },
'zinc': { icon: 'ğŸ›¡ï¸', text: 'ì•„ì—°', css: 'ing-zinc', ko: 'ì•„ì—°' },
'calcium': { icon: 'ğŸ¦´', text: 'ì¹¼ìŠ˜', css: 'ing-calcium', ko: 'ì¹¼ìŠ˜' },
'probiotics': { icon: 'ğŸ¦ ', text: 'ìœ ì‚°ê· ', css: 'ing-probiotics', ko: 'í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤', alt: 'ìœ ì‚°ê· ' },
'milkthisle': { icon: 'ğŸŒ¿', text: 'ë°€í¬ì”¨ìŠ¬', css: 'ing-milkthisle', ko: 'ë°€í¬ì”¨ìŠ¬' },
'coq10': { icon: 'â¤ï¸', text: 'ì½”ì—”ìì„Q10', css: 'ing-coq10', ko: 'ì½”ì—”ìì„q10' }
};

function findBadgeByKoreanValue(key){
if(!key) return null;
const lowerKey = key.toLowerCase().replace(/\s/g, '');
for(const k in ingredientMap){
  const badge = ingredientMap[k];
  if(badge.ko && lowerKey.includes(badge.ko.toLowerCase().replace(/\s/g, ''))) return badge;
  if(badge.alt && lowerKey.includes(badge.alt.toLowerCase().replace(/\s/g, ''))) return badge;
}
return null;
}

function getMainIngredientBadges(ingredients = []){
if(!ingredients || ingredients.length === 0) return '';
let badgesHtml = '';
ingredients.forEach(key => {
  const badge = ingredientMap[key.toLowerCase()] || findBadgeByKoreanValue(key);
  
  if(badge){
    badgesHtml += `<span class="ingredient-badge ${badge.css}">${badge.icon} ${badge.text}</span>`;
  } else {
    console.warn("ë±ƒì§€ ëª»ì°¾ìŒ:", key);
    badgesHtml += `<span class="ingredient-badge ing-unknown">â“ ${key}</span>`;
  }
});
return badgesHtml;
}

/* ===================== Helper: ê¸°íƒ€ ì¸ì¦ ë° ëŒ€ìƒ ë±ƒì§€ ìƒì„± (ê¸°ì¡´ ì½”ë“œ) ===================== */
function getOtherAttributeBadges(data){
let badgesHtml = '';

if(data.isGmpCertified){
badgesHtml += '<span class="gmp-badge"><i class="fa fa-check-circle"></i> GMP ì¸ì¦</span>';
}
if(data.isOrganic){
badgesHtml += '<span class="organic-badge"><i class="fa fa-leaf"></i> ìœ ê¸°ë† ì¸ì¦</span>';
}

if(data.targetAudience && data.targetAudience.length > 0){
const targetMap = {
'kids': { icon: 'ğŸ‘¶', text: 'ì–´ë¦°ì´ìš©', css: 'target-kids' },
'women': { icon: 'ğŸ‘©', text: 'ì—¬ì„±ìš©', css: 'target-women' },
'men': { icon: 'ğŸ‘¨', text: 'ë‚¨ì„±ìš©', css: 'target-men' },
'senior': { icon: 'ğŸ‘´', text: 'ë¶€ëª¨ë‹˜ìš©', css: 'target-senior' },
'pregnant': { icon: 'ğŸ¤°', text: 'ì„ì‚°ë¶€ìš©', css: 'target-pregnant' }
};

data.targetAudience.forEach(key => {
const badge = targetMap[key];
if(badge){
badgesHtml += `<span class="target-badge ${badge.css}">${badge.icon} ${badge.text}</span>`;
}
});
}
return badgesHtml;
}


/* ===================== Core: analyzeProduct (ì„œë²„ í†µì‹ ) ===================== */
async function analyzeProduct(){
console.log('âœ… analyzeProduct called');
const productInfo=document.getElementById('productInput').value.trim();
const resultDiv=document.getElementById('result');
const loadingDiv=document.getElementById('loading');
const feedbackForm=document.getElementById('feedbackForm');

if(!productInfo){
alert('ì œí’ˆ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
return;
}

resultDiv.innerHTML='';
feedbackForm.style.display='none';
loadingDiv.style.display='block';

try{
console.log('ğŸ”„ Sending request to /api/analyze');
const res=await fetch('/api/analyze',{
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({ productInfo })
});

if(!res.ok) {
  const errData = await res.json();
  throw new Error(errData.error || 'ì„œë²„ ì˜¤ë¥˜: ' + res.status);
}

const data=await res.json();
console.log('âœ… Received data:', data);

const majorCorp = isMajorCorp(data); 
const isMfdsRegistered = data.isMfdsRegistered === true; 
const ingredientBadgesHtml = getMainIngredientBadges(data.mainIngredients);
const otherBadgesHtml = getOtherAttributeBadges(data);
const currentAdType = data.adType || 'unknown';

let safetyClass, safetyColor;
if(data.overallSafety==='ì•ˆì „'){
safetyClass='safety-safe';
safetyColor='var(--ok)';
}
else if(data.overallSafety==='ì£¼ì˜'){
safetyClass='safety-warning';
safetyColor='#b45309';
}
else{
safetyClass='safety-danger';
safetyColor='#b91c1c';
}

const stepNames = data.stepNames && data.stepNames.length === 8 ? data.stepNames : [
  "ì œí’ˆ ì‹ë³„", "ë°œì‹ ì ì‹ ë¢°ë„ (15ì )", "ì œí’ˆ ì‹ ë¢°ë„ (25ì )", "í‘œí˜„/ë‚´ìš© ê²€ì¦ (20ì )",
  "íš¨ëŠ¥/ì„±ë¶„ ìœ„ë°˜ (20ì )", "í–‰ë™ ìœ ë„ ê²€ì¦ (10ì )", "ì‹œê°ì  ì‹ í˜¸ (5ì )", "ì‚¬ê¸°Â·ê¸ˆì „ í”¼í•´ (5ì )"
];

let detailsHtml='';
const steps = data.analysisDetails || {};
const stepDataKeys = [
  'step1_identification', 'step2_senderScore', 'step3_productScore', 
  'step4_expressionScore', 'step5_efficacyScore', 'step6_actionScore', 
  'step7_visualScore', 'step8_financialScore'
];

for(let i = 0; i < stepNames.length; i++) {
  const key = stepDataKeys[i];
  const step = steps[key];
  const name = stepNames[i];
  
  if(step){
    const display = (key === 'step1_identification') ? (step.result || 'N/A') : (step.score + 'ì ');
    const reason = step.reason ? step.reason.replace(/\n/g,'<br>') : 'ì„¤ëª… ì—†ìŒ';
    detailsHtml += '<div style="padding:14px; margin:10px 0; background:rgba(16,185,129,0.06); border-radius:12px; border:1px solid var(--border); transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);" onmouseover="this.style.background=\'rgba(16,185,129,0.10)\'; this.style.transform=\'translateY(-2px)\'" onmouseout="this.style.background=\'rgba(16,185,129,0.06)\'; this.style.transform=\'translateY(0)\'">';
    detailsHtml += '<p style="margin-bottom:8px"><strong style="font-size:1.05rem">' + (i + 1) + '. ' + name + ':</strong> ';
    detailsHtml += '<span class="pill" style="margin-left:8px; font-size:0.95rem">' + display + '</span></p>';
    detailsHtml += '<p class="muted" style="margin-left:2px; line-height:1.7">â†’ ' + reason + '</p>';
    
    if(step.evidence && step.evidence.length > 0) {
      detailsHtml += '<p class="muted" style="margin-left:2px; margin-top: 8px; font-style: italic; border-left: 3px solid var(--border); padding-left: 12px; opacity:0.85;">';
      detailsHtml += 'ê·¼ê±°: "' + step.evidence.join('... ') + '"</p>';
    }
    
    detailsHtml += '</div>';
  }
}

resultDiv.innerHTML = 
'<div class="section-title">âœ¨ ë¶„ì„ ëŒ€ìƒ</div>' +
'<p style="font-size:1.15rem; font-weight:800; line-height:1.6"><strong>' + data.productInfo + '</strong></p>' +
'<p class="muted" style="margin-top:6px; font-weight:600">ìœ í˜•: ' + (data.productType||'ì •ë³´ ì—†ìŒ') + '</p>' +
'<div style="margin-top:16px; display:flex; gap:12px; flex-wrap:wrap; align-items:center">' +
getAdTypeBadge(currentAdType) +
(majorCorp ? '<span class="major-corp-badge"><i class="fa fa-certificate"></i> ëŒ€ê¸°ì—… ì¸ì¦</span>' : '') +
(isMfdsRegistered ? '<span class="mfds-badge"><i class="fa fa-check-square-o"></i> ì‹ì•½ì²˜ ì¸ì¦</span>' : '') +
ingredientBadgesHtml +
otherBadgesHtml +
'</div>' +
'<div class="section-title" style="color:' + safetyColor + '; font-size:1.2rem">' +
'ğŸš¨ ìµœì¢… ì‹ ë¢°ë„: <strong class="' + safetyClass + '">' + data.overallSafety + '</strong>' +
'</div>' +
'<p style="display:flex;gap:12px;align-items:center;justify-content:center;margin:12px 0 18px">' +
'<span class="score-badge"><i class="fa fa-check-circle"></i> ' + data.totalScore + '/100</span>' +
'</p>' +
'<p style="line-height:1.8; font-weight:600"><strong>íŒì • ê·¼ê±°:</strong> ' + data.safetyReason.replace(/\n/g,'<br>') + '</p>' +
'' + 
'<div class="section-title">ğŸ”¬ ìƒì„¸ ë¶„ì„ ë‚´ì—­</div>' +
'<div>' + detailsHtml + '</div>' +
'<div class="section-title">âš ï¸ ë³µìš© ì‹œ ìœ ì˜ ì‚¬í•­</div>' +
'<div style="padding:20px; background:linear-gradient(135deg, #f7fee7, #fff); border:1.5px solid #e2f0c2; border-radius:16px; box-shadow:0 4px 14px rgba(132,204,22,.10)">' +
'<p style="line-height:1.8">' + (data.precautions ? data.precautions.replace(/\n/g,'<br>') : 'ì œê³µëœ ìœ ì˜ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.') + '</p>' +
'</div>' +
'<hr/>' +
'<div class="button-group">' +
'<button class="btn-primary" style="background:linear-gradient(135deg,#22c55e,#16a30a); border-color:transparent" onclick="alert(\'ì €ì¥ ê¸°ëŠ¥ ê°œë°œ ì¤‘\')"><i class="fa fa-share-alt"></i> ê²°ê³¼ ì €ì¥ / ê³µìœ </button>' +
'<button class="btn-primary" style="background:linear-gradient(135deg,#9ca3af,#6b7280)" onclick="showFeedbackForm(\'' + (data.productInfo || productInfo).replace(/'/g, "\\'") + '\')">ê²°ê³¼ê°€ ì •í™•í•˜ì§€ ì•Šë‚˜ìš”?</button>' +
'</div>';

document.getElementById('result').scrollIntoView({behavior:'smooth',block:'start'});

}catch(err){
console.error('âŒ Error:', err);
resultDiv.innerHTML='<div style="padding:20px;border:1.5px solid #fecaca;background:#fff1f2;border-left:6px solid var(--danger);border-radius:16px; box-shadow:0 6px 20px rgba(239,68,68,.12)">' +
'<p style="font-weight:800; font-size:1.1rem"><strong>ìš”ì²­ ì‹¤íŒ¨:</strong> ' + err.message + '</p>' +
'<p class="muted" style="margin-top:8px; line-height:1.7">ì„œë²„ê°€ ì¼œì ¸ ìˆëŠ”ì§€, API í‚¤ê°€ ìœ íš¨í•œì§€ í™•ì¸í•´ì£¼ì„¸ìš”.</p></div>';
}finally{
loadingDiv.style.display='none';
}
}

/* ===================== Feedback (ê¸°ì¡´ ì½”ë“œ) ===================== */
function showFeedbackForm(productName = 'ë¶„ì„ëœ ì œí’ˆ'){
const f=document.getElementById('feedbackForm');
const pNameEl = document.getElementById('feedbackProductName');
if(pNameEl) pNameEl.textContent = productName;
f.style.display='block';
f.scrollIntoView({behavior:'smooth',block:'start'});
}

function submitFeedback(){
const contact=document.getElementById('feedbackContact').value.trim();
const msg=document.getElementById('feedbackMessage');
if(!contact){
alert('ì „í™”ë²ˆí˜¸ ë˜ëŠ” ì´ë©”ì¼ì€ í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.');
return;
}
msg.textContent='ìš”ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  í›„ ìˆ˜ì •ë˜ë©´ ì•Œë ¤ë“œë¦´ê²Œìš”.';
msg.style.display='block';
document.getElementById('feedbackType').value='';
document.getElementById('feedbackComment').value='';
document.getElementById('feedbackContact').value='';
setTimeout(()=>{
document.getElementById('feedbackForm').style.display='none';
msg.style.display='none';
},4000);
}
console.log('âœ… All functions loaded');


</script>
</body>
</html>